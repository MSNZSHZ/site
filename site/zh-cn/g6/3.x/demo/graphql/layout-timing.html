<!--
index: 10
title: 布局的时机监听
screenshot: https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*ClBWQJlPqYAAAAAAAAAAAABkARQnAQ
-->
<script>
  /**
   * 该示例演示如何监听布局的开始和结束时机
   * by 十吾
   */
  const data = {
    nodes: [
    {
      id: "0",
      label: "0"
    },
    {
      id: "1",
      label: "1"
    },
    {
      id: "2",
      label: "2"
    },
    {
      id: "3",
      label: "3"
    },
    {
      id: "4",
      label: "4"
    },
    {
      id: "5",
      label: "5"
    },
    {
      id: "6",
      label: "6"
    },
    {
      id: "7",
      label: "7"
    },
    {
      id: "8",
      label: "8"
    },
    {
      id: "9",
      label: "9"
    }],
    edges: [{
      source: "0",
      target: "1"
    },
    {
      source: "0",
      target: "2"
    },
    {
      source: "0",
      target: "3"
    },
    {
      source: "0",
      target: "4"
    },
    {
      source: "0",
      target: "5"
    },
    {
      source: "0",
      target: "7"
    },
    {
      source: "0",
      target: "8"
    },
    {
      source: "0",
      target: "9"
    },
    {
      source: "2",
      target: "3"
    },
    {
      source: "4",
      target: "5"
    },
    {
      source: "4",
      target: "6"
    },
    {
      source: "5",
      target: "6"
    }]
  };
  
  const graph = new G6.Graph({
    container: 'mountNode',
    width: window.innerWidth,
    height: window.innerHeight,
    layout: {
      type: 'force',
      preventOverlap: true,
      nodeSize: 20
    },
    modes: {
    default:
      ['drag-node']
    },
    defaultNode: {
      size: [20, 20],
      color: 'steelblue'
    },
    defaultEdge: {
      size: 1,
      color: '#e2e2e2'
    }
  });
  

  const tipDiv = document.createElement("div"); 
  const graphDiv = document.getElementById("mountNode"); 
  document.body.insertBefore(tipDiv, graphDiv); 

  graph.on('beforelayout', () => {
    tipDiv.innerHTML = '正在执行力导向布局...布局完成后本文字将会发生变化。';
  });
  graph.on('afterlayout', () => {
    tipDiv.innerHTML = '布局完成！';
  });
  
  graph.data(data);
  graph.render();
</script>