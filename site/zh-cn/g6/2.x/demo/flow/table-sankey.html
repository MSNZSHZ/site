<!--
index: 0
title: 表格桑基图
resource:
  jsFiles:
    - https://gw.alipayobjects.com/os/antv/pkg/_antv.g6-2.2.0/build/g6.js
    - ${url['g6-plugins']}
    - ${url.jquery}
screenshot: https://gw.alipayobjects.com/zos/rmsportal/ADvvMIupynBPSYLwIRQJ.png
-->
<script>
$.getJSON('https://gw.alipayobjects.com/os/antvdemo/assets/data/us_president.json', data => {
  const sankeyPlugin = new G6.Plugins['template.tableSankey']({
    table: data,
    fields: ['president', 'birth_place', 'age_decade', 'party', 'sgin'],
    onBeforeRender(graph) {
      graph.node({
        color() {
          const colors = ['#FD8C3D', '#D83F43', '#F7BED6', '#E487C7', '#46A848', '#D83F43', '#3B85BA', '#48335B', '#B7CDE9'];
          return colors[parseInt(colors.length * Math.random())];
        },
        style: {
          stroke: '#616161'
        }
      });
      graph.edge({
        style: {
          stroke: 'rgb(0, 0, 0)',
          strokeOpacity: 0.2
        }
      });
    }
  })
  const graph = new G6.Graph({
    container: 'mountNode',
    height: window.innerHeight, // 画布高
    fitView: 'cc',
    animate: true,
    plugins: [ sankeyPlugin ]
  });
});
</script>
