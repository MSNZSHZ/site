<!--
index: 0
title: 基础饼图
resource:
  jsFiles:
    - ${url.dataSet}
plotDescription: Basic Pie Chart，基础饼图。
plotUsage: 饼图广泛得应用在各个领域，用于表示不同分类的占比情况，通过弧度大小来对比各种分类。饼图通过将一个圆饼按照分类的占比划分成多个区块，整个圆饼代表数据的总量，每个区块（圆弧）表示该分类占总体的比例大小，所有区块（圆弧）的加和等于 100%。可以很好地帮助用户快速了解数据的占比分配。
relativePlots:
  - ${plotByName.pie}
tags: 标签样式
subCat: 基础饼图
-->
<script>
  const data = [
    { item: '事例一', count: 40 ,percent: 0.4},
    { item: '事例二', count: 21 ,percent: 0.21},
    { item: '事例三', count: 17 ,percent: 0.17},
    { item: '事例四', count: 13 ,percent: 0.13},
    { item: '事例五', count: 9 ,percent: 0.09}
  ];
  const chart = new G2.Chart({
    container: 'mountNode',
    forceFit: true,
    height: window.innerHeight,
  });
  chart.source(data, {
    percent: {
      formatter: val => {
        val = (val * 100) + '%';
        return val;
      }
    }
  });
  chart.coord('theta', {
    radius: 0.75
  });
  chart.tooltip({
    showTitle: false,
    itemTpl: '<li><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}: {value}</li>'
  });
  chart.intervalStack()
    .position('percent')
    .color('item')
    .label('percent', {
      formatter: (val, item) => {
        return item.point.item + ': ' + val;
      }
    })
    .tooltip('item*percent', (item, percent) => {
      percent = percent * 100 + '%';
      return {
        name: item,
        value: percent
      };
    })
    .style({
      lineWidth: 1,
      stroke: '#fff'
    });
  chart.render();
</script>
